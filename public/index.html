<!DOCTYPE html>
<html ng-app="AnimalApp">
    <head>
        <meta charset="utf-8" >
        <title>The Re•PAWS•itory</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular.min.js"></script>
        <script src="/js/app.js" charset="utf-8"></script>
        <link rel="stylesheet" href="/css/app.css">
        <link rel="icon" href="images/paw large.png" type="image/x-icon"/>
    </head>
    <body ng-controller="MyController as ctrl">
    <div id="container">
    <div id="header">
      <div id="headLinkHolder">

        <div id="headRight">

          <a href="#" ng-click="ctrl.changeInclude('main')">Home</a>
          <a href="#"  ng-click="ctrl.setAbout()">About</a>
          <a href="#" ng-click="ctrl.changeInclude('links')">Links</a>
          <a href="#" ng-click="ctrl.changeInclude('petfinder')">Adopt An Animal</a>
        </div>
      </div>
    </div>
    <div id="bannerOverlay" >

      <div id="banner">
        <img id="banImg" src="../images/animals.png" />
      </div>
      <div id="rotateDiv">
        <h1 id="siteName">The Re<span id="paws">•PAWS•</span>itory</h1>
        <h4 id="siteSub">For All Things Animal</h4>
      </div>
    </div>

    <div id="menu">
      <div id="menLinks">
        <a href="#" ng-if="!ctrl.loggedInId" ng-click="ctrl.openLogIn()">Log In</a>
        <a href="#" ng-if="!ctrl.loggedInId" ng-click="ctrl.setReg()">Register</a>
        <a href="#" ng-if="ctrl.loggedInId" ng-click="ctrl.logOff()">Log Off</a>
        <a href="#" ng-click="ctrl.setPostForm()">Make Post</a>
      </div>
    </div>

    <div id="waterFall">
      <div id="content"
        ng-include="ctrl.includePath">
      </div>
    </div>
      <!-- index to show all posts after member log in -->
      <div id="rollout" ng-if="ctrl.loggedInId">
          <div id="sumDiv" ng-repeat="post in ctrl.posts" ng-init="i = ctrl.post.movie;">
            <a href="#" ng-click="ctrl.getPost(post)">
              <h3 id="rollPostTitle">{{post.title}}</h3>

          <div id="image" ng-if="post.image && post.type != 'story'">
            <img ng-src="{{post.image}}" alt="">
          </div>
          <div id="movie" ng-if="post.movie">

          <iframe width="100%" ng-src="{{getIframeSrc(post.movie)}}" frameborder="0 " allowfullscreen></iframe>

          </div>
          <div id="sumStory" ng-if="post.description">
            <p>
              {{post.description}}
            </p>

        </div></a>
      </div>
    </div>
    <footer>
      <img src="/images/beagle look up.png" />
      <div id="footBlack">
        <div id="creators">
          Created by Alexis Bohlander, Kellie Dambroso, and Joshua Payne
        </div>
      </div>
    </footer>

    <!-- log in form -->
    <div class="logMod" ng-class="(ctrl.logForm === true ? 'log' : '' )">
    <h2 id="formH">Log In</h2>
        <form ng-submit="ctrl.logIn()">
          <label for="userLog">Username: </label>
          <input id="userLog" type="text" ng-model="ctrl.logUsername" required/><br />
          <label for="passLog">Password:&nbsp;</label>
          <input id="passLog" type="password" ng-model="ctrl.logPassword" required/><br />
          <div id="buttonPad">
            <input type="submit" value="Log In">
            <a href="#" ng-click="ctrl.logForm = false">Cancel</a>
          </div>
        </form>
    </div>

    <!-- Register form -->
    <div class="logMod" ng-class="(ctrl.regForm === true ? 'log' : '' )">
    <h2 id="formH">Create User</h2>
      <form ng-submit="ctrl.createUser()">
        <label for="userReg">Username: </label>
        <input id="userReg" type="text" ng-model="ctrl.username" required/>
        <label for="passReg">Password:&nbsp;</label>
        <input id="passReg" type="password" ng-model="ctrl.password" required/>
        <div id="buttonPad">
        <input type="submit" value="Create User">
        <a href="#" ng-click="ctrl.regForm = false">Cancel</a>
        </div>
      </form>
    </div>

    <!-- edit post modal -->
    <div class="modal" ng-class="(ctrl.editFormToShow === true ? 'edit' : '' )">
      <form id="postForm" ng-submit="ctrl.editPost(ctrl.showPost)">
        <div id="overWrap">
        <h2>Post Edit</h2>
        <div id="inWrap">
          <label for="title">Title: </label>
          <input type="title" ng-model="ctrl.edtitle" value="{{ctrl.showPost.title}}" placeholder="{{ctrl.showPost.title}}"/>
        </div>
        <label for="edspecies">Animal: </label>
          <select id="edspecies" name="species" ng-model="ctrl.edspecies">
            <option value="Cat">Cat</option>
            <option value="Dog">Dog</option>
            <option value="Bird">Bird</option>
            <option value="Fish">Fish</option>
            <option value="Other">Other</option>
          </select>
          <div ng-if="ctrl.showPost.type === 'story'">
            <label for="sDescription">Description: </label>
            <textarea class="u-full-width" placeholder="{{ctrl.showPost.description}}" value="{{ctrl.showPost.description}}" ng-model="ctrl.eddescription" id="sDescription"></textarea>
          </div>

          <div ng-if="ctrl.showPost.type === 'image' || ctrl.type === 'movie'">
            <label for="description">Description: </label>
            <textarea class="u-full-width" placeholder="{{ctrl.showPost.description}}" value="{{ctrl.showPost.description}}" ng-model="ctrl.eddescription" id="description" >{{ctrl.showPost.description}}</textarea>
          </div>

          <div id="" ng-if="ctrl.showPost.type === 'image' || ctrl.showPost.type === 'story'">
            <div id="inWrap">
              <label for="image">Image: </label>
              <input type="text" ng-model="ctrl.edimage" placeholder="{{ctrl.showPost.image}}"/>
            </div>
          </div>
          <div id="" ng-if="ctrl.showPost.type === 'movie'">
            <div id="inWrap">
              <label for="movie">Movie: </label>
              <input type="movie" ng-model="ctrl.edmovie" placeholder="{{ctrl.showPost.movie}}"/>
            </div>
          </div>
          <div id="buttonPad">
            <input type="submit" value="Edit Post"/>
            <a href="#" ng-click="ctrl.editFormToShow = false">Cancel</a>
          </div>
          </form>
    </div>
  </div>

    <!-- Create Post -->
    <div class="modal" ng-class="(ctrl.showPostForm === true ? 'post' : '' )">
      <form id="postForm" ng-submit="ctrl.createPost(ctrl.loggedInId)">
        <h2> Add New Post </h2>
          <div id="selectPad">
          <label for="type">Type of Post: </label>
            <select id="type" name="type" ng-model="ctrl.type" required>
              <option value="story">Story</option>
              <option value="image">Picture</option>
              <option value="movie">Movie</option>
            </select>
          <label for="species">Animal: </label>
            <select id="species" name="species" ng-model="ctrl.species" required>
              <option value="Cat">Cat</option>
              <option value="Dog">Dog</option>
              <option value="Bird">Bird</option>
              <option value="Fish">Fish</option>
              <option value="Other">Other</option>
            </select>
          </div>
            <!-- {{ ctrl.type }} -->
        <div id="inWrap">
          <label for="title">Title: </label>
          <input type="title" ng-model="ctrl.title" placeholder="Post Title" required/>
        </div>
          <div ng-if="ctrl.type === 'story'">
            Your Story: <br />
            <textarea class="storyTextArea" placeholder="Write your story here:" ng-model="ctrl.description" id="sDescription"></textarea>
          </div>

          <div ng-if="ctrl.type === 'image' || ctrl.type === 'movie'">
            Description: <br />
            <textarea class="u-full-width" placeholder="Details/Comments" ng-model="ctrl.description" id="description"></textarea>
          </div>

          <div id="" ng-if="ctrl.type === 'image' || ctrl.type === 'story'">
            <div id="inWrap">
              <label for="image">Image: </label>
              <input type="text" ng-model="ctrl.image" placeholder="Image url"/>
            </div>
          </div>
          <div id="" ng-if="ctrl.type === 'movie'">
            <div id="inWrap">
              <label for="movie">Movie: </label>
              <input type="movie" ng-model="ctrl.movie" placeholder="Movie url"/>
            </div>
          </div>
          <div id="buttonPad">
          <input type="submit" value="Add Post"/>
          <a href="#" ng-click="ctrl.showPostForm = false">Cancel</a>
          </div>
      </form>

    </div>

    <!-- about modal -->
    <div class="modal" ng-class="(ctrl.aboutForm === true ? 'about' : '' )">

      <div id="aboutAll">
        <div id="aboutTop">
          <p id="aboutHeader">About The Repawsitory </p>
        </div>
        <p>
   			Cat ipsum dolor sit amet, hiss at vacuum cleaner but wake up wander around the house making large amounts of noise jump on top of your human's bed and fall asleep again i'm going to lap some water out of my master's cup meow for sniff other cat's butt and hang jaw half open thereafter. Catasstrophe slap owner's face at 5am until human fills food dish howl  uncontrollably for no reason purrrrrr for immediately regret falling into bathtub meowing chowing and wowing. <br> All of a sudden cat goes crazy burrow under covers pretend you want to go out but then don't but my left donut is missing, as is my right. Licks paws jump around on couch, meow constantly until given food, love you, then bite you or pelt around the house and up and down. </p>
        <a href="#" id="close" ng-click="ctrl.aboutForm = false">X</a>
      </div>
      </div>
    </body>

</html>
