<!DOCTYPE html>
<html ng-app="AnimalApp">
    <head>
        <meta charset="utf-8" >
        <title></title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular.min.js"></script>
        <script src="/js/app.js" charset="utf-8"></script>
        <link rel="stylesheet" href="/css/app.css">
    </head>
    <body ng-controller="MyController as ctrl">

    <div id="header">
      <a></a>
    </div>

      <h1>Animals!</h1>
<!-- index to show all posts after member log in -->
    <hr>
    <ul >
      <li ng-if="ctrl.loggedInId" ng-repeat="post in ctrl.posts">
        {{post.type}} - {{post.title}} - {{post.species}} - {{post.description}} - {{post.likes}} - {{post.image}} - {{post.movie}}


      <div id="image" ng-if="post.image">
        <img ng-src="{{post.image}}" alt="">
      </div>
      <div id="movie" ng-if="post.movie">
        <iframe width="420" height="315"
src="https://youtu.be/EYM-B9jAflM">
</iframe>
      </div>
      <div id="story" ng-if="post.description">
        <textarea name="{{post.description}}" rows="8" cols="80"></textarea>
      </div>
      </li>
    </ul>
      <div ng-if="!ctrl.loggedInId">
      <h2>Create User</h2>
        <form ng-submit="ctrl.createUser()">
          <input type="text" ng-model="ctrl.username" />
          <input type="password" ng-model="ctrl.password" />
          <input type="submit" value="Create User">
        </form>

        <h2>Log In</h2>
            <form ng-submit="ctrl.logIn()">
              <input type="text" ng-model="ctrl.username" />
              <input type="password" ng-model="ctrl.password" />
              <input type="submit" value="Log In">
            </form>
        </div>


        <button ng-if="ctrl.loggedInId" ng-click="ctrl.logOff()">Log Off</button>

        <h2> Add New Post </h2>
        <form ng-submit="ctrl.createPost(ctrl.loggedInId)">
          <div id="overWrap">
            <label for="type">Type of Post: </label>
              <select id="type" name="type" ng-model="ctrl.type">
                <option value="story">Story</option>
                <option value="image">Picture</option>
                <option value="movie">Movie</option>
              </select>
              <!-- {{ ctrl.type }} -->
          <div id="inWrap">
            <label for="title">Title: </label>
            <input type="title" ng-model="ctrl.title" placeholder="Post Title"/>
          </div>
          <label for="species">Animal: </label>
            <select id="species" name="species" ng-model="ctrl.species">
              <option value="Cat">Cat</option>
              <option value="Dog">Dog</option>
              <option value="Bird">Bird</option>
              <option value="Fish">Fish</option>
              <option value="Other">Other</option>
            </select>
            <div ng-if="ctrl.type === 'story'">
              <label for="sDescription">Description: </label>
              <textarea class="u-full-width" placeholder="Write your story here:" ng-model="ctrl.createForm.description" id="sDescription"></textarea>
            </div>

            <div ng-if="ctrl.type === 'image' || ctrl.type === 'movie'">
              <label for="description">Description: </label>
              <textarea class="u-full-width" placeholder="Details/Comments" ng-model="ctrl.createForm.description" id="description"></textarea>
            </div>

            <div id="" ng-if="ctrl.type === 'image' || ctrl.type === 'story'">
              <div id="inWrap">
                <label for="image">Image: </label>
                <input type="text" ng-model="ctrl.image" placeholder="Image url"/>
              </div>
            </div>
            <div id="" ng-if="ctrl.type === 'movie'">
              <div id="inWrap">
                <label for="movie">Movie: </label>
                <input type="movie" ng-model="ctrl.movie" placeholder="Movie url"/>
              </div>
            </div>
            <input type="submit" value="Add Post"/>
        </form>



    </body>
</html>
