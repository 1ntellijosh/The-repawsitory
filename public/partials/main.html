<!-- div to show the featured post that is clicked on -->

<div id="postHolder" ng-if="ctrl.showPost != null">
  <!-- div that shows post clicked on -->
  <div id="showPost" ng-if="ctrl.editForm === false">
    Type: {{ctrl.showPost.type}}<br />
    Title: {{ctrl.showPost.title}}<br />
    Species: {{ctrl.showPost.species}}<br />
    Description: <p>
      {{ctrl.showPost.description}}
    </p><br />
    <div id="movie" ng-if="ctrl.showPost.movie">

    <iframe width="100%" ng-src="{{getIframeSrc(ctrl.showPost.movie)}}" frameborder="0 " allowfullscreen></iframe>

    </div><br />
    <div id="movie" ng-if="ctrl.showPost.image">
    <img ng-src="{{ctrl.showPost.image}}" alt=""></div><br />
    Likes: {{ctrl.showPost.likes}}<br />
    <a href="#" ng-click="ctrl.getEditForm()">Edit Post</a>
  </div>

  <div id="edit Post" ng-if="ctrl.editForm === true">
    <h5>Post Edit</h5>
    <form ng-submit="ctrl.editPost(ctrl.showPost)">
      <div id="overWrap">

      <div id="inWrap">
        <label for="title">Title: </label>
        <input type="title" ng-model="ctrl.edtitle" value="{{ctrl.showPost.title}}" placeholder="{{ctrl.showPost.title}}"/>
      </div>
      <label for="species">Animal: </label>
        <select id="species" name="species" ng-model="ctrl.edspecies">
          <option value="Cat">Cat</option>
          <option value="Dog">Dog</option>
          <option value="Bird">Bird</option>
          <option value="Fish">Fish</option>
          <option value="Other">Other</option>
        </select>
        <div ng-if="ctrl.showPost.type === 'story'">
          <label for="sDescription">Description: </label>
          <textarea class="u-full-width" placeholder="{{ctrl.showPost.description}}" value="{{ctrl.showPost.description}}" ng-model="ctrl.eddescription" id="sDescription"></textarea>
        </div>

        <div ng-if="ctrl.showPost.type === 'image' || ctrl.type === 'movie'">
          <label for="description">Description: </label>
          <textarea class="u-full-width" placeholder="{{ctrl.showPost.description}}" value="{{ctrl.showPost.description}}" ng-model="ctrl.eddescription" id="description" >{{ctrl.showPost.description}}</textarea>
        </div>

        <div id="" ng-if="ctrl.showPost.type === 'image' || ctrl.type === 'story'">
          <div id="inWrap">
            <label for="image">Image: </label>
            <input type="text" ng-model="ctrl.edimage" placeholder="{{ctrl.showPost.image}}"/>
          </div>
        </div>
        <div id="" ng-if="ctrl.showPost.type === 'movie'">
          <div id="inWrap">
            <label for="movie">Movie: </label>
            <input type="movie" ng-model="ctrl.edmovie" placeholder="{{ctrl.showPost.movie}}"/>
          </div>
        </div>
        <input type="submit" value="Edit Post"/>
    </form>
  </div>

</div>
</div>

<hr />

<!-- index to show all posts after member log in -->
<ul >
  <li ng-if="ctrl.loggedInId" ng-repeat="post in ctrl.posts" ng-init="i = ctrl.post.movie;">
        <a href="#" ng-click="ctrl.getPost(post)">{{post.title}}</a>  {{post.likes}}

  <div id="image" ng-if="post.image">
    <img ng-src="{{post.image}}" alt="">
  </div>
  <div id="movie" ng-if="post.movie">

  <iframe width="100%" ng-src="{{getIframeSrc(post.movie)}}" frameborder="0 " allowfullscreen></iframe>

  </div>
  <div id="story" ng-if="post.description">
    <p>
      {{post.description}}
    </p>
<div ng-if="ctrl.loggedInId" ng-click="ctrl.deletePost(post._id)">Delete</div>
  </div>
  </li>
</ul>

<!-- index before login -->
<div ng-if="!ctrl.loggedInId">
      <div ng-repeat="post in ctrl.randPost = (ctrl.posts|orderBy:ctrl.randomize).slice(0, 1)">
               <article>
                 <h3>{{post.title}}
               <div id="image" ng-if="post.image" >
                 <img ng-src="{{post.image}}" alt="">
               </div>
               <div id="movie" ng-if="post.movie">
                 <iframe src="{{post.movie}}" width="" height=""></iframe>
               </div>
               <div id="story" ng-if="post.description">
                 <p>{{post.description}}</p>
               </div>


             </article>
             </div>
           </div>
 <!-- end of index before login -->
